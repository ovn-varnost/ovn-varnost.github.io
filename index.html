<script>
    const canvas = document.getElementById("matrix");
    const ctx = canvas.getContext("2d");

    canvas.height = window.innerHeight;
    canvas.width = window.innerWidth;

    const letters = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const drops = [];

    const fontSize = 16;
    const columns = canvas.width / fontSize;

    for (let i = 0; i < columns; i++) {
        drops[i] = 1;
    }

    // --- tvoje besedilo ---
    const staticText = [
        "Ste pravkar skenirali naključno QR kodo z ulice?",
        "",
        "Če bi bila ta koda zlonamerna, bi lahko ravno zdaj na svoj telefon",
        "prenésli virus ali razkrili svoje podatke.",
        "",
        "V knjigi Fizična in digitalna varnost izveste, kako se tovrstnim pastem izogniti.",
        "",
        "https://varnostni-nacrt.si/"
    ];

    function draw() {
        // Matrix efekt
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "#0F0";
        ctx.font = fontSize + "px monospace";

        for (let i = 0; i < drops.length; i++) {
            const text = letters.charAt(Math.floor(Math.random() * letters.length));
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            if (drops[i] * fontSize > canvas.height && Math.random() > 0.95) {
                drops[i] = 0;
            }

            drops[i]++;
        }

        // --- statično besedilo na sredini ---
        ctx.fillStyle = "#0F0";
        ctx.font = "24px monospace";
        ctx.textAlign = "center";

        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;

        const lineHeight = 32;
        const startY = centerY - (staticText.length / 2) * lineHeight;

        staticText.forEach((line, i) => {
            ctx.fillText(line, centerX, startY + i * lineHeight);
        });
    }

    setInterval(draw, 33);

    // Responsivnost ob resize
    window.addEventListener("resize", () => {
        canvas.height = window.innerHeight;
        canvas.width = window.innerWidth;
    });
</script>
